%%
%% DOCUMENT TYPE
%%

% general options:
% - inputenc        file encoding (should be "utf8" in most cases)
% - de/en           language of your work (influence pre-defined tokens)
% - declaration     adds the mandatory statutory declaration for theses
% - abstract        adds the abstract (from file "prelude_abstract.tex")
% - acknowledgment  adds an acknowledgment (from file "prelude_acknowledgment.tex")
%                   it is a nice gesture to personally thank people who
%                   supported you during your work.
% - symbollist      adds a list of symbols (from file "prelude_symbols.tex")
% - figurelist      adds and automatically creates a list of figures 
% - tablelist       adds and automatically creates a list of tables
% - index           generates an index based on the package "makeidx", please
%                   refer to its documentation for usage on index markup
% - bibbacklinks    adds backlinks from bibliography to the pages, where the
%                   corresponding entry is used (cited)
% - gray            make a gray-style version of the thesis report
%
% PhD thesis specific options
% - cv              adds your cv
% - publishsize     changes the page size from A4 to A5 for print publishing
%                   (please change the font size to 9pt, if you use this option)
% - approved        use this option, after your thesis has been formally approved
%                   (this will change the front page to meet formal/legal requirements)
% - ownpub          adds a second bibliography (from file "ownpub.bib") for your own
%                   publications related to the PhD thesis. According to the latest
%                   examination regulations, own work should be part of the regular
%                   bibliography (this option is hence obsolete)

\documentclass[en,abstract,acknowledgment,symbollist,inputenc=utf8]{tuhhthesis}

\usepackage{tuhhlistings}
\usepackage{multirow}
%%
%% SETUP BLOCK
%%

% thesis type, must be one of the following
% - projectwork
% - bachelorthesis
% - masterthesis
% - diplomathesis
% - phdthesis
\setthesistype{projectwork}

% your full name as printed on any official document (e.g., passport)
\author{Sergej Keller}

% the official title of your work (*must* match the filed title)
\title{Orthogonal Codes for Acoustic UnderwaterLocalization}

% the institution of the first examiner (refer to tuhhlangnames.def)
\institute{InstAutonomousCPS}

% date of submission as DD.MM.YYYY
\submitdate{01.04.2022}

% your matriculation number (for anything but PhD thesis)
\matrnumber{50484}

% PhD thesis only
%\setSexOfAuthor{male}
%\setBirthplace{Hamburg, Deutschland}
%\setPhDType{ing}

% your course of studies
\course{Informatik-Ingenieurwesen}

% full name and affiliation of first and second examiner
\examinerFirst{Prof. Dr.-Ing. Bernd-Christian Renner}{Institute of Autonomous Cyber-Physical Systems\newline Hamburg University of Technology}
\examinerSecond{Prof. Dr. Volker Turau}{Institute of Telematics\newline Hamburg University of Technology}

\supervisorFirst{Christoph Weyer}{Institute of Telematics, Hamburg University of Technology}
%\supervisorSecond{Volker Turau}{Institute of Telematics, Hamburg University of Technology}

% optional: print the TUB document number on title page
% this only applies, if the document is formally publish under
% a TUB document number
%\tubdoknumber{4711}


% Curriculum Vitae
% only needed for thesis type PhD
%\usepackage[]{currvita}
%\setlength{\cvlabelwidth}{50mm}
%\renewcommand*{\cvlistheadingfont}{\normalfont\sffamily\large\color{tuhh_blue}}
%\renewcommand*{\cvlabelfont}{\normalfont\rmfamily\normalsize\color{tuhh_darkgray}}



%%
%% CONTENT AREA
%%

% mathematical symbols
\input{setup_math}


\begin{document}

\input{chapter_intro}
\input{chapter_codes}

\chapter{Signal Processing}
The signal processing is separated into two sections. First the code needs to be transformed into the base-band. After that a spectrum shift to a specific transmission band is realized. Afterwards the exported signal is put through an simulator which adds reflection noise. The result is than again imported and gets reverse spectrum shifted. At the end a peak detection method is used to ignore reflection peaks.
\section{Base-Band}
Before a spectrum shift is applied to the signal, the bandwidth needs to be bounded. Otherwise absolute code bits would result in theoretically infinite frequencies which are impossible to implement for transmission. A raised cosine filter is therefore applied to remove all unwanted frequencies above a certain threshold. The base-band for our application is $20kHz$. Thus, our symbol length is set to $1/{20kHz}$. A appropriate roll-off coefficient of $0.125$ is picked. The resolution of cosine needs to be high enough to include at least a couple of periods.  A whole cosine is not tangible because its periodic and therefore infinite in time.
\section{Transmission Band}
Now the spectrum is ready to be shifted by the given transmission frequency $f_c$. The resulting signal could hold imaginary parts, hence we only move the real part further in processing. 
\begin{equation}
 	x_{TB}(t)=Re\{x_{BB}(t)\cdot e^{-2\pi j f_c t}\}
\end{equation}
\section{Simulation}
The simulation consists of a watermark benchmark \cite{watermark15} and a additive GWN generated by a desired SNR between $-20dB$ and $20dB$. From the general equation of the Signal to Noise Ratio we derive our noise standard deviation by transforming this ratio.
\begin{equation}
	SNR=\cfrac{P_{Signal}}{P_{Noise}}=\cfrac{\mathbb{E}(S^2)}{\mathbb{E}(N^2)}=\cfrac{\sum S^2}{N\cdot\sigma_N^2}~~\Leftrightarrow~~\sigma_N=\sqrt{\cfrac{N}{SNR\cdot\sum S^2}}
\end{equation}
\section{Peak detection}
The received signal, consisting of summed delayed signals, cross-correlated by every anchor. If the signal was not reflected the peak in cross-correlation would be obvious. But because of the introduction by noise and water reflections more peaks could appear. To suppress these effects a CA-FAR Algorithm \cite{rohling11} is applied to only detect the first reflected peak resulting in true results. 
\begin{center}
\begin{tabular}{|c|c|}
	\hline
	candidate sample & $i$\\
	\hline
	guard interval (half) & $\mathcal{G}$ \\
	\hline
	train interval (half) & $\mathcal{T}$ \\
	\hline
	false alarm rate & $\eta$\\
	\hline
\end{tabular}
\linebreak
\end{center}

\begin{equation}
	\text{Threshold}(i)_x=
	\cfrac{\alpha}{2\mathcal{T}}
	\left[ \sum_{j=i-\left( \mathcal{G}+\mathcal{T}\right) }^{i+\left( \mathcal{G}+\mathcal{T}\right)}x(j) - \sum_{j=i-\mathcal{G}}^{i+\mathcal{G}}x(j) \right] 
\end{equation}
\begin{equation}
	\alpha=2\mathcal{T}\left( \eta^{-1/{2\mathcal{T}}}-1\right) 
\end{equation}
% The Chapters
%\input{chapter_Introduction}
%\input{chapter_Structure}
%\input{chapter_TheClass}
%\input{chapter_Figures}
%\input{chapter_Style}


% Bibliography
% if you have cited papers that are not referenced, but important for your work,
% uncommented the following line; however, this should generally by unnecessary
% and hints at improper citing.
%\nocite{*}
\tuhhbibliography{thesis}


% Appendix
% Feel free to add additional appendix chapters (e.g., measurement setups, etc.)
\begin{tuhhappendix}
  \input{appendix_CD-Content}
\end{tuhhappendix}


% The End
\end{document}
